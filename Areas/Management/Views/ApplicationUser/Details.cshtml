@model ApplicationUser
@using Microsoft.AspNetCore.Identity;
@using System.Security.Claims;

@{
    ViewData["Title"] = "User Details";
}

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow-sm p-4 w-50">
        <div class="card-header text-center">
            <h1 class="display-5">User Management</h1>
            <h3>User Details</h3>
        </div>
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-4 text-end fw-bold">Email:</dt>
                <dd class="col-sm-8">@Model.Email</dd>

                <dt class="col-sm-4 text-end fw-bold">First Name:</dt>
                <dd class="col-sm-8">@Model.FirstName</dd>

                <dt class="col-sm-4 text-end fw-bold">Last Name:</dt>
                <dd class="col-sm-8">@Model.LastName</dd>

                <dt class="col-sm-4 text-end fw-bold">Salary:</dt>
                <dd class="col-sm-8">@Model.Salary</dd>

                <dt class="col-sm-4 text-end fw-bold">Contractual Hours:</dt>
                <dd class="col-sm-8">@Model.ContractualHours</dd>

                <dt class="col-sm-4 text-end fw-bold">Employee Notes:</dt>
                <dd class="col-sm-8">
                    @(Model.Notes != null ? Model.Notes : "N/A")
                </dd>

                <dt class="col-sm-4 text-end fw-bold">Role:</dt>
                <dd class="col-sm-8">
                    @(ViewBag.UserRole != null ? ViewBag.UserRole : "No role assigned")
                </dd>

                <dt class="col-sm-4 text-end fw-bold">Pending Shifts:</dt>
                <dd class="col-sm-8 text-muted">Placeholder: In the future, shifts will be displayed here.</dd>

                <dt class="col-sm-4 text-end fw-bold">Time-Off Requests:</dt>
                <dd class="col-sm-8 text-muted">Placeholder: In the future, time-off requests will be displayed here.</dd>
            </dl>

            <div class="text-center mt-4">
                @if (User.FindFirstValue(ClaimTypes.NameIdentifier) == Model.Id)
                {
                    @Html.ActionLink("Edit", "EditUser", new { id = Model.Id, area = "ADDAREAHERE" }, new { @class = "btn btn-primary" })
                }
                else
                {
                    @Html.ActionLink("Edit", "EditApplicationUser", new { id = Model.Id }, new { @class = "btn btn-primary" })
                }

                @Html.ActionLink("Back to User List", "Index", "ApplicationUser", null, new { @class = "btn btn-secondary ml-2" })
            </div>
        </div>
    </div>
</div>
