@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager

@{
    if (!SignInManager.IsSignedIn(User))
    {
        Layout = "_LayoutNavBarRemoved";
    }
}

<div class="container mt-5" style="color:white">
    <div class="text-center">
        <h1 class="display-4">Welcome to ProRota</h1>
        <p class="lead">Simplifying workforce scheduling for businesses of all sizes.</p>
    </div>

    <!-- Navigation Tabs -->
    <ul class="nav nav-tabs mt-4 justify-content-center" id="proRotaTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" type="button" role="tab" aria-controls="about" aria-selected="true">About ProRota</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="services-tab" data-bs-toggle="tab" data-bs-target="#services" type="button" role="tab" aria-controls="services" aria-selected="false">Our Services</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="howItWorks-tab" data-bs-toggle="tab" data-bs-target="#howItWorks" type="button" role="tab" aria-controls="howItWorks" aria-selected="false">How it Works</button>
        </li>
    </ul>

    <div class="tab-content mt-3" id="proRotaTabsContent">
        <!-- About ProRota Section -->
        <div class="tab-pane fade show active" id="about" role="tabpanel" aria-labelledby="about-tab">
            <div class="row mt-5">
                <div class="col-md-6 text-center">
                    <img src="/images/example_rota.png" alt="ProRota Scheduling" class="img-fluid rounded shadow">
                </div>
                <div class="col-md-6">
                    <h2>Who We Are</h2>
                    <p>
                        ProRota is an innovative scheduling platform designed to help businesses manage their workforce effortlessly.
                        Our goal is to reduce scheduling complexities, improve efficiency, and ensure seamless shift management.
                    </p>
                    <h2>Our Mission</h2>
                    <p>
                        We aim to provide a powerful yet easy-to-use solution that empowers businesses and employees alike.
                        With automated scheduling, real-time updates, and user-friendly interfaces, we make workforce management stress-free.
                    </p>
                </div>
            </div>

            <!-- Features Section -->
            <div class="row mt-5">
                <div class="col-md-12 text-center">
                    <h2 class="mb-4">Why Choose ProRota?</h2>
                </div>
            </div>

            <div class="row text-center">
                <div class="col-md-4">
                    <img src="/images/automation.png" alt="Automation" class="img-fluid mb-3" style="width:80px;">
                    <h4>Automated Scheduling</h4>
                    <p>Reduce manual work with AI-driven shift allocation, ensuring optimal coverage at all times.</p>
                </div>
                <div class="col-md-4">
                    <img src="/images/realtime.png" alt="Real-time Updates" class="img-fluid mb-3" style="width:80px;">
                    <h4>Real-Time Updates</h4>
                    <p>Instant notifications for shift changes, approvals, and important scheduling updates.</p>
                </div>
                <div class="col-md-4">
                    <img src="/images/user-friendly.png" alt="User-Friendly" class="img-fluid mb-3" style="width:80px;">
                    <h4>User-Friendly Interface</h4>
                    <p>A clean, intuitive design that allows managers and employees to navigate with ease.</p>
                </div>
            </div>

            <!-- Testimonials Section -->
            <div class="row mt-5">
                <div class="col-md-12 text-center">
                    <h2 class="mb-4">What Our Users Say</h2>
                </div>
            </div>

            <div class="row text-center">
                <div class="col-md-6">
                    <div class="card bg-dark text-white p-4 rounded shadow">
                        <p>"ProRota has completely transformed how we manage our team's shifts. It's intuitive and saves us hours every week!"</p>
                        <h5>- Sarah Thompson, HR Manager</h5>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card bg-dark text-white p-4 rounded shadow">
                        <p>"This platform is a game-changer. Real-time notifications and shift swaps make it easy for employees to stay updated!"</p>
                        <h5>- James Carter, Store Supervisor</h5>
                    </div>
                </div>
            </div>

        </div>

        <!-- Our Services Section -->
        <div class="tab-pane fade" id="services" role="tabpanel" aria-labelledby="services-tab">
            <div class="text-center">
                <h1 class="display-4">ProRota Pricing Plans</h1>
                <p class="lead">Choose the right plan for your business.</p>
            </div>

            <div class="row mt-5 justify-content-center">
                <!-- Single License -->
                <div class="col-md-4">
                    <div class="card bg-dark text-white shadow-lg p-4 text-center">
                        <h3>Single License</h3>
                        <h4 class="text-primary">£100 / year</h4>
                        <p>Perfect for single-site restaurants.</p>
                        <ul class="list-unstyled">
                            <li>✔ 1 restaurant/site</li>
                            <li>✔ Unlimited employees</li>
                            <li>✔ Shift & rota management</li>
                        </ul>
                        @if (!User.Identity.IsAuthenticated)
                        {
                            <form asp-area="Identity" asp-page="/Account/Login" asp-route-returnUrl="@Url.Action("Services", "Home")">
                                <button type="submit" class="btn btn-primary">Get Started</button>
                            </form>
                        }
                        else
                        {
                            <form asp-controller="Payment" asp-action="Checkout" method="post">
                                <input type="hidden" name="plan" value="single">
                                <input type="hidden" name="price" value="100">
                                <button type="submit" class="btn btn-primary">Get Started</button>
                            </form>
                        }
                    </div>
                </div>

                <!-- Multi-License -->
                <div class="col-md-4">
                    <div class="card bg-dark text-white shadow-lg p-4 text-center">
                        <h3>Multi License</h3>
                        <h4 class="text-success">£250 / year</h4>
                        <p>For businesses with multiple locations.</p>
                        <ul class="list-unstyled">
                            <li>✔ Up to 10 sites</li>
                            <li>✔ Unlimited employees</li>
                            <li>✔ Advanced reporting & analytics</li>
                        </ul>
                        @if (!User.Identity.IsAuthenticated)
                        {
                            <form asp-area="Identity" asp-page="/Account/Login" asp-route-returnUrl="@Url.Action("Services", "Home")">
                                <button type="submit" class="btn btn-success">Get Started</button>
                            </form>
                        }
                        else
                        {
                            <form asp-controller="Payment" asp-action="Checkout" method="post">
                                <input type="hidden" name="plan" value="multi">
                                <input type="hidden" name="price" value="250">
                                <button type="submit" class="btn btn-success">Get Started</button>
                            </form>
                        }
                    </div>
                </div>

                <!-- Unlimited License -->
                <div class="col-md-4">
                    <div class="card bg-dark text-white shadow-lg p-4 text-center">
                        <h3>Unlimited License</h3>
                        <h4 class="text-warning">£1000 / year</h4>
                        <p>For large businesses with unlimited sites.</p>
                        <ul class="list-unstyled">
                            <li>✔ Unlimited sites</li>
                            <li>✔ Unlimited employees</li>
                            <li>✔ Premium support & features</li>
                        </ul>
                        @if (!User.Identity.IsAuthenticated)
                        {
                            <form asp-area="Identity" asp-page="/Account/Login" asp-route-returnUrl="@Url.Action("Services", "Home")">
                                <button type="submit" class="btn btn-warning">Get Started</button>
                            </form>
                        }
                        else
                        {
                            <form asp-controller="Payment" asp-action="Checkout" method="post">
                                <input type="hidden" name="plan" value="unlimited">
                                <input type="hidden" name="price" value="1000">
                                <button type="submit" class="btn btn-warning">Get Started</button>
                            </form>
                        }
                    </div>
                </div>
            </div>
        </div>

        <!-- How it Works Section -->
        <div class="tab-pane fade" id="howItWorks" role="tabpanel" aria-labelledby="howItWorks-tab">
            <div class="text-center">
                <h1 class="display-4">How ProRota Works</h1>
                <p class="lead">An intelligent system that simplifies workforce scheduling.</p>
            </div>

            <div class="row mt-4">
                <div class="col-md-4 text-center">
                    <img src="/images/step1.png" alt="Step 1" class="img-fluid mb-3" style="width:80px;">
                    <h4>1. Define Your Business Needs</h4>
                    <p>Set up your company structure, add employees, and define shift rules.</p>
                </div>
                <div class="col-md-4 text-center">
                    <img src="/images/step2.png" alt="Step 2" class="img-fluid mb-3" style="width:80px;">
                    <h4>2. Automated Shift Allocation</h4>
                    <p>Our algorithm ensures shifts are fairly distributed based on availability and workload.</p>
                </div>
                <div class="col-md-4 text-center">
                    <img src="/images/step3.png" alt="Step 3" class="img-fluid mb-3" style="width:80px;">
                    <h4>3. Real-Time Updates</h4>
                    <p>Employees get instant notifications on shifts, approvals, and changes.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Call to Action -->
    <div class="text-center mt-5">
        <a class="btn btn-secondary" asp-area="Identity" asp-page="/Account/Register">Join Now</a>
        <a class="btn btn-primary" asp-area="Identity" asp-page="/Account/Login">Log in</a>
    </div>
</div>
